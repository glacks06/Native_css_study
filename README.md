# Native_css_study
Native CSS 탐구를 위한 repo

아래의 보고서들은 AI를 활용해 작성하였으나 기본적으로 나의 질문 흐름에 기반한다.

# 변수


### 1. 개요

CSS 변수, 즉 커스텀 프로퍼티(`--변수명`)는 현대 웹 개발에서 디자인 일관성과 유지보수를 크게 개선하는 핵심 기능입니다. 변수 선언과 참조를 통해 스타일 속성 값을 동적으로 재사용하고, 런타임에서도 실시간 변경이 가능하여 반응형 UI와 테마 스위칭을 효과적으로 지원합니다.

본 보고서에서는 CSS 변수의 작동 원리와 내부 동작 구조를 자세히 살펴보고, 특히 변수 값 변경 시 브라우저 내부에서 벌어지는 처리 과정을 렌더링 관점과 내부 스타일 계산 관점으로 분리해 설명합니다.


### 2. CSS 변수 기본 개념 및 구조

#### 2.1 변수 선언과 참조

- 변수는 `--box_width: 500px;`와 같이 키-값(key-value) 쌍으로 CSS 내에 선언된다.
- 변수명(`--box_width`)을 프로퍼티(`width` 등)에서 `var(--box_width)` 형태로 참조한다.
- 예시:

```css
:root {
  --box_width: 500px;
}

.box1 {
  width: var(--box_width);
}
```

#### 2.2 저장 위치

- `:root`는 문서의 최상위 요소인 `<html>` 요소를 가리킨다.
- CSS 변수는 이 최상위 요소 또는 특정 요소의 스타일 속성에 key-value 형태로 저장된다.
- 변수 값은 CSSOM 내 각 요소의 스타일 속성에 선언된 참조 정보로 유지된다.


### 3. 렌더링 관점 vs 내부 스타일 처리 관점

| 관점 | 설명 |
|---|---|
| 렌더링 관점 | 변수명이 최종 값으로 완전히 치환되어 렌더 트리, 레이아웃, 페인팅 시 반영됨. 사용자에게는 변수명이 보이지 않고 구체적인 값만 화면에 표시됨. |
| 내부 처리 관점 | CSSOM, 스타일 계산기 등 내부 스타일 시스템에서는 변수명과 참조 정보가 그대로 유지됨. 변수값 변경 시 참조하는 스타일 속성들의 재계산을 지원하여 동적 스타일링 가능. |



### 4. 변수 값 변경 시 내부 동작 과정

1. **값 변경 트리거**  
   자바스크립트 등에서 `setProperty('--box_width', '600px')`로 변수값이 갱신됨.

2. **의존성 그래프(Dependency Graph) 탐색**  
   브라우저는 변수명을 키로 하는 의존성 그래프를 따라 변수값이 영향을 미치는 스타일 속성들과 요소를 찾음.

3. **부분적 스타일 재계산**  
   영향받는 요소들만 CSSOM 내 스타일 재계산(marking) 대상이 되고, 나머지 요소는 스킵.

4. **렌더 트리 갱신과 리플로우/리페인트**  
   스타일 변경이 레이아웃이나 페인팅을 필요로 하면 최소 범위에서 수행됨.


### 5. 의존성 그래프의 역할과 중요성

- 각 CSS 변수와 이를 참조하는 모든 스타일 속성 및 요소 간 관계를 효율적으로 관리.
- 변수값 변경 시 전체 스타일 시트를 재계산하지 않고, 영향을 받는 요소 집합만 신속히 찾아내어 재계산.
- 결과적으로, CSS 변수의 동적 변경 및 실시간 테마 전환이 고성능으로 가능하게 함.


### 6. 결론

- CSS 변수는 프로그래밍 언어의 포인터 변수처럼 직접 주소를 저장하는 방식은 아니나, 변수명을 통해 동적으로 값을 조회하는 참조 메커니즘을 가진다.
- 변수명 참조는 내부에서 key-value 구조로 관리되는 한편, 렌더링 시엔 값으로 완전히 치환되어 사용자를 위한 시각적 결과를 만들어 낸다.
- 변수값 변경 시 브라우저는 의존성 그래프를 활용하여 필요한 부분만 스타일 계산과 렌더링을 수행, 높은 효율성과 퍼포먼스를 유지한다.
- 이러한 구조 이해는 프론트엔드 개발과 고성능 UI 구현에 매우 중요하다.

